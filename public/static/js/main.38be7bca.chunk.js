(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n(12),c=n.n(s),i=n(5),l=(n(19),n(6)),r=n(2),j=(n(20),n(1));var u=function(e){var t=e.onLogin,n=Object(o.useState)(""),s=Object(l.a)(n,2),c=s[0],i=s[1],u=Object(r.g)();return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c})};fetch("".concat("http://localhost:3000","/login"),n).then((function(e){200!==e.status||201!==e.status?e.json().then((function(e){console.log(e)})):e.json().then((function(e){console.log("inside login component",e),t(e),i(""),u.push("/me")}))}))},children:[Object(j.jsx)("input",{type:"text",value:c,onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Login"})]})};var a=function(e){e.onLogin;var t=Object(o.useState)(""),n=Object(l.a)(t,2);return n[0],n[1],Object(r.g)(),Object(j.jsx)("div",{})};var b=function(e){var t=e.user,n=e.setUser;function o(){console.log("inside handleLogout, before DELETE request, user: ",t),fetch("/logout",{method:"DELETE"}).then((function(){n(null),console.log("inside first and only .then after user is set to null, user: ",t)}))}return Object(j.jsx)(j.Fragment,{children:function(){if(t)return Object(j.jsxs)("article",{className:"profile",children:[Object(j.jsxs)("p",{children:[t.firstname," ",t.lastname]}),Object(j.jsx)("p",{children:t.username}),Object(j.jsx)("p",{children:t.email}),Object(j.jsx)("p",{children:t.password_digest}),Object(j.jsx)("button",{onClick:o,children:"Logout"})]})}()})};var h=function(){var e=Object(o.useState)(null),t=Object(l.a)(e,2),n=t[0],s=t[1];function c(e){s(e)}return console.log("on document load",n),Object(o.useEffect)((function(){console.log("inside first line of useEffect hook"),fetch("/me").then((function(e){e.json().then((function(e){console.log("inside second .then in useEffect hook, the response object: ",e),console.log("state of user obj in react: ",n),404===e.status?s(null):(s(e),console.log("state of user object in react",n))}))}))}),[]),console.log("this renders"),Object(j.jsxs)("div",{className:"app",children:[Object(j.jsxs)("nav",{className:"nav",children:[Object(j.jsx)(i.b,{to:"/login",style:{color:"gold"},children:"Login"}),Object(j.jsx)(i.b,{to:"/signup",style:{color:"gold"},children:"Signup"})]}),Object(j.jsxs)(r.d,{children:[Object(j.jsx)(r.b,{path:"/login",children:n?Object(j.jsx)(r.a,{to:"/profile"}):Object(j.jsx)(u,{onLogin:c})}),Object(j.jsx)(r.b,{path:"/signup",children:n?Object(j.jsx)(r.a,{to:"/profile"}):Object(j.jsx)(a,{onLogin:c})}),Object(j.jsx)(r.b,{path:"/profile",children:n?Object(j.jsx)(b,{user:n,setUser:s}):Object(j.jsx)(r.a,{to:"/login"})})]})]})};c.a.render(Object(j.jsx)(i.a,{children:Object(j.jsx)(h,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.38be7bca.chunk.js.map