{"version":3,"sources":["components/Login.js","App.js","index.js"],"names":["Login","onLogin","username","setUsername","useHistory","onSubmit","type","value","onChange","e","target","App","localURL","useState","user","setUser","useEffect","console","log","fetch","then","r","json","userData","style","display","justifyContent","to","color","path","preventDefault","configObj","method","headers","body","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"8LAsBeA,MAlBf,YAAoD,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YAMlC,OAJgBC,cAKd,uBAAMC,SAAUJ,EAAhB,UACE,uBACEK,KAAK,OACLC,MAAOL,EACPM,SAAU,SAACC,GAAD,OAAON,EAAYM,EAAEC,OAAOH,UAExC,wBAAQD,KAAK,SAAb,uBC+CSK,MA1Df,WAEE,IAAMC,EAAW,wBAEjB,EAAwBC,mBAAS,MAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAkCF,mBAAS,IAA3C,mBAAQX,EAAR,KAAkBC,EAAlB,KA+BA,OA7BAa,qBAAU,WACRC,QAAQC,IAAI,yBACZC,MAAM,GAAD,OAAIP,EAAJ,QACFQ,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UACZF,MAAK,SAAAG,GACJN,QAAQC,IAAIK,GACZR,EAAQQ,QAEX,IAEHN,QAAQC,IAAI,gBAoBV,gCACE,sBAAKM,MAAO,CAACC,QAAS,OAAQC,eAAgB,gBAA9C,UACE,cAAC,IAAD,CAASC,GAAG,SAASH,MAAO,CAACI,MAAO,QAApC,mBACA,cAAC,IAAD,CAASD,GAAG,UAAUH,MAAO,CAACI,MAAO,QAArC,uBAGF,cAAC,IAAD,UACE,cAAC,IAAD,CAAOC,KAAK,SAAZ,SACE,cAAC,EAAD,CAAO5B,QA1Bf,SAAqBQ,GACnBA,EAAEqB,iBACF,IAAMC,EAAY,CAChBC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAElC,cAEzBiB,MAAM,GAAD,OAAIP,EAAJ,UAAsBmB,GACxBX,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UACZF,MAAK,SAAAG,GACJN,QAAQC,IAAIK,GACZR,EAAQQ,OAauBpB,YAAaA,EAAaD,SAAUA,QAKnEY,EACE,4BAAIA,EAAKZ,WACT,cAAC,IAAD,CAAUyB,GAAG,eCnDvBU,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.b988162b.chunk.js","sourcesContent":["import React from 'react'\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login({ onLogin, username, setUsername }) {\n  \n  const history = useHistory();\n\n  // const [ errors, setErrors ] = useState(\"\");\n\n  return (\n    <form onSubmit={onLogin}>\n      <input\n        type=\"text\"\n        value={username}\n        onChange={(e) => setUsername(e.target.value)}\n      />\n      <button type=\"submit\">Login</button>\n    </form>\n  )\n}\n\nexport default Login;\n","import React from 'react'\nimport { useState, useEffect } from 'react';\nimport { Switch, Route, NavLink, Redirect } from 'react-router-dom';\n\nimport Login from './components/Login';\n\nfunction App() {\n  // const herokuURL = \"https://book-app-heroku-000.herokuapp.com\";\n  const localURL = \"http://localhost:3000\";\n\n  const [user, setUser] = useState(null);\n  const [ username, setUsername ] = useState(\"\");\n\n  useEffect(() => {\n    console.log(\"inside useEffect hook\")\n    fetch(`${localURL}/me`)\n      .then(r => r.json())\n      .then(userData => {\n        console.log(userData);\n        setUser(userData);\n      });\n  }, []);\n\n  console.log(\"this renders\");\n\n  function handleLogin(e) {\n    e.preventDefault();\n    const configObj = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ username })\n    };\n    fetch(`${localURL}/login`, configObj)\n      .then(r => r.json())\n      .then(userData => {\n        console.log(userData);\n        setUser(userData);\n      });\n  }\n\n  return (\n    <div>\n      <nav style={{display: 'flex', justifyContent: 'space-evenly'}}>\n        <NavLink to=\"/login\" style={{color: \"gold\"}}>Login</NavLink>\n        <NavLink to=\"/signup\" style={{color: \"gold\"}}>Signup</NavLink>\n      </nav>\n\n      <Switch>\n        <Route path=\"/login\">\n          <Login onLogin={handleLogin} setUsername={setUsername} username={username} />\n        </Route>\n      </Switch>\n      \n      {\n        user\n        ? <p>{user.username}</p>\n        : <Redirect to=\"/login\"></Redirect>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n// import Test from './Test';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}